{"version":3,"file":"index.mjs","names":["mounted","el","binding","handler","value","options","passive","modifiers","active","window","addEventListener","_onResize","Object","instance","$","uid","quiet","unmounted","removeEventListener","Resize"],"sources":["../../../src/directives/resize/index.ts"],"sourcesContent":["import type { DirectiveBinding } from 'vue'\n\ninterface ResizeDirectiveBinding extends Omit<DirectiveBinding, 'modifiers'> {\n  value: () => void\n  modifiers?: {\n    active?: boolean\n    quiet?: boolean\n  }\n}\n\nfunction mounted (el: HTMLElement, binding: ResizeDirectiveBinding) {\n  const handler = binding.value\n  const options: AddEventListenerOptions = {\n    passive: !binding.modifiers?.active,\n  }\n\n  window.addEventListener('resize', handler, options)\n\n  el._onResize = Object(el._onResize)\n  el._onResize![binding.instance!.$.uid] = {\n    handler,\n    options,\n  }\n\n  if (!binding.modifiers?.quiet) {\n    handler()\n  }\n}\n\nfunction unmounted (el: HTMLElement, binding: ResizeDirectiveBinding) {\n  if (!el._onResize?.[binding.instance!.$.uid]) return\n\n  const { handler, options } = el._onResize[binding.instance!.$.uid]!\n\n  window.removeEventListener('resize', handler, options)\n\n  delete el._onResize[binding.instance!.$.uid]\n}\n\nexport const Resize = {\n  mounted,\n  unmounted,\n}\n\nexport default Resize\n"],"mappings":"AAUA,SAASA,OAAT,CAAkBC,EAAlB,EAAmCC,OAAnC,EAAoE;EAAA;;EAClE,MAAMC,OAAO,GAAGD,OAAO,CAACE,KAAxB;EACA,MAAMC,OAAgC,GAAG;IACvCC,OAAO,EAAE,wBAACJ,OAAO,CAACK,SAAT,aAAC,mBAAmBC,MAApB;EAD8B,CAAzC;EAIAC,MAAM,CAACC,gBAAP,CAAwB,QAAxB,EAAkCP,OAAlC,EAA2CE,OAA3C;EAEAJ,EAAE,CAACU,SAAH,GAAeC,MAAM,CAACX,EAAE,CAACU,SAAJ,CAArB;EACAV,EAAE,CAACU,SAAH,CAAcT,OAAO,CAACW,QAAR,CAAkBC,CAAlB,CAAoBC,GAAlC,IAAyC;IACvCZ,OADuC;IAEvCE;EAFuC,CAAzC;;EAKA,IAAI,yBAACH,OAAO,CAACK,SAAT,aAAC,oBAAmBS,KAApB,CAAJ,EAA+B;IAC7Bb,OAAO;EACR;AACF;;AAED,SAASc,SAAT,CAAoBhB,EAApB,EAAqCC,OAArC,EAAsE;EAAA;;EACpE,IAAI,mBAACD,EAAE,CAACU,SAAJ,aAAC,cAAeT,OAAO,CAACW,QAAR,CAAkBC,CAAlB,CAAoBC,GAAnC,CAAD,CAAJ,EAA8C;EAE9C,MAAM;IAAEZ,OAAF;IAAWE;EAAX,IAAuBJ,EAAE,CAACU,SAAH,CAAaT,OAAO,CAACW,QAAR,CAAkBC,CAAlB,CAAoBC,GAAjC,CAA7B;EAEAN,MAAM,CAACS,mBAAP,CAA2B,QAA3B,EAAqCf,OAArC,EAA8CE,OAA9C;EAEA,OAAOJ,EAAE,CAACU,SAAH,CAAaT,OAAO,CAACW,QAAR,CAAkBC,CAAlB,CAAoBC,GAAjC,CAAP;AACD;;AAED,OAAO,MAAMI,MAAM,GAAG;EACpBnB,OADoB;EAEpBiB;AAFoB,CAAf;AAKP,eAAeE,MAAf"}