{"version":3,"file":"VListGroup.mjs","names":["VDefaultsProvider","VExpandTransition","useList","IconValue","makeTagProps","useNestedGroupActivator","useNestedItem","computed","toRef","defineComponent","genericComponent","pick","propsFactory","useRender","VListGroupActivator","name","setup","_","slots","default","makeVListGroupProps","activeColor","String","color","collapseIcon","type","expandIcon","prependIcon","appendIcon","fluid","Boolean","subgroup","value","VListGroup","props","title","isOpen","open","list","onClick","e","activatorProps","class","toggleIcon","hasPrepend","activator","VListItem","active","filterListGroupProps","Object","keys"],"sources":["../../../src/components/VList/VListGroup.tsx"],"sourcesContent":["// Components\nimport { VDefaultsProvider } from '@/components/VDefaultsProvider'\nimport { VExpandTransition } from '@/components/transitions'\n\n// Composables\nimport { useList } from './list'\nimport { IconValue } from '@/composables/icons'\nimport { makeTagProps } from '@/composables/tag'\nimport { useNestedGroupActivator, useNestedItem } from '@/composables/nested/nested'\n\n// Utilities\nimport { computed, toRef } from 'vue'\nimport { defineComponent, genericComponent, pick, propsFactory, useRender } from '@/util'\n\n// Types\nimport type { InternalListItem } from './VList'\nimport type { MakeSlots } from '@/util'\nimport type { ExtractPropTypes, Ref } from 'vue'\n\nexport type ListGroupActivatorSlot = {\n  props: {\n    onClick: (e: Event) => void\n    class: string\n  }\n}\n\nconst VListGroupActivator = defineComponent({\n  name: 'VListGroupActivator',\n\n  setup (_, { slots }) {\n    useNestedGroupActivator()\n\n    return () => slots.default?.()\n  },\n})\n\nexport const makeVListGroupProps = propsFactory({\n  activeColor: String,\n  color: String,\n  collapseIcon: {\n    type: IconValue,\n    default: '$collapse',\n  },\n  expandIcon: {\n    type: IconValue,\n    default: '$expand',\n  },\n  prependIcon: IconValue,\n  appendIcon: IconValue,\n  fluid: Boolean,\n  subgroup: Boolean,\n  value: null,\n\n  ...makeTagProps(),\n})\n\nexport const VListGroup = genericComponent<new <T extends InternalListItem>() => {\n  $props: {\n    items?: T[]\n  }\n  $slots: MakeSlots<{\n    activator: [ListGroupActivatorSlot]\n    default: []\n  }>\n}>()({\n  name: 'VListGroup',\n\n  props: {\n    title: String,\n\n    ...makeVListGroupProps(),\n  },\n\n  setup (props, { slots }) {\n    const { isOpen, open } = useNestedItem(toRef(props, 'value'), true)\n    const list = useList()\n\n    const onClick = (e: Event) => {\n      open(!isOpen.value, e)\n    }\n\n    const activatorProps: Ref<ListGroupActivatorSlot['props']> = computed(() => ({\n      onClick,\n      class: 'v-list-group__header',\n    }))\n\n    const toggleIcon = computed(() => isOpen.value ? props.collapseIcon : props.expandIcon)\n\n    useRender(() => (\n      <props.tag\n        class={[\n          'v-list-group',\n          {\n            'v-list-group--prepend': list?.hasPrepend.value,\n            'v-list-group--fluid': props.fluid,\n            'v-list-group--subgroup': props.subgroup,\n          },\n        ]}\n      >\n        { slots.activator && (\n          <VDefaultsProvider\n            defaults={{\n              VListItem: {\n                active: isOpen.value,\n                activeColor: props.activeColor,\n                color: props.color,\n                prependIcon: props.prependIcon || (props.subgroup && toggleIcon.value),\n                appendIcon: props.appendIcon || (!props.subgroup && toggleIcon.value),\n                title: props.title,\n                value: props.value,\n              },\n            }}\n          >\n            <VListGroupActivator>\n              { slots.activator({ props: activatorProps.value, isOpen }) }\n            </VListGroupActivator>\n          </VDefaultsProvider>\n        ) }\n\n        <VExpandTransition>\n          <div class=\"v-list-group__items\" v-show={ isOpen.value }>\n            { slots.default?.() }\n          </div>\n        </VExpandTransition>\n      </props.tag>\n    ))\n\n    return {}\n  },\n})\n\nexport function filterListGroupProps (props: ExtractPropTypes<ReturnType<typeof makeVListGroupProps>>) {\n  return pick(props, Object.keys(VListGroup.props) as any)\n}\n"],"mappings":"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"}