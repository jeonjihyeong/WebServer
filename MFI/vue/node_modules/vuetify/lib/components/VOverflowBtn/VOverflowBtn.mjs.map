{"version":3,"file":"VOverflowBtn.mjs","names":["VSelect","VAutocomplete","VTextField","VBtn","consoleWarn","extend","name","props","editable","Boolean","segmented","computed","classes","options","call","isAnyValueAllowed","isSingle","computedItems","allItems","filteredItems","methods","genSelections","genCommaSelection","item","index","last","genSegmentedBtn","genInput","input","data","domProps","value","internalSearch","attrs","readonly","genLabel","isFocused","label","style","itemValue","getValue","itemObj","find","i","text","callback","$createElement","on","click","e","stopPropagation","updateValue","val","initialValue","lazyValue","$emit"],"sources":["../../../src/components/VOverflowBtn/VOverflowBtn.ts"],"sourcesContent":["// @ts-nocheck\n/* eslint-disable */\n\n// Styles\nimport './VOverflowBtn.sass'\n\n// Extensions\nimport VSelect from '../VSelect/VSelect'\nimport VAutocomplete from '../VAutocomplete'\nimport VTextField from '../VTextField/VTextField'\n\n// Components\nimport VBtn from '../VBtn'\n\n// Utilities\nimport { consoleWarn } from '../../util/console'\n\n/* @vue/component */\nexport default VAutocomplete.extend({\n  name: 'v-overflow-btn',\n\n  props: {\n    editable: Boolean,\n    segmented: Boolean,\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        ...VAutocomplete.options.computed.classes.call(this),\n        'v-overflow-btn': true,\n        'v-overflow-btn--segmented': this.segmented,\n        'v-overflow-btn--editable': this.editable,\n      }\n    },\n    isAnyValueAllowed (): boolean {\n      return this.editable ||\n        VAutocomplete.options.computed.isAnyValueAllowed.call(this)\n    },\n    isSingle (): true {\n      return true\n    },\n    computedItems (): object[] {\n      return this.segmented ? this.allItems : this.filteredItems\n    },\n  },\n\n  methods: {\n    genSelections () {\n      return this.editable\n        ? VAutocomplete.options.methods.genSelections.call(this)\n        : VSelect.options.methods.genSelections.call(this) // Override v-autocomplete's override\n    },\n    genCommaSelection (item: any, index: number, last: boolean) {\n      return this.segmented\n        ? this.genSegmentedBtn(item)\n        : VSelect.options.methods.genCommaSelection.call(this, item, index, last)\n    },\n    genInput () {\n      const input = VTextField.options.methods.genInput.call(this)\n\n      input.data = input.data || {}\n      input.data.domProps!.value = this.editable ? this.internalSearch : ''\n      input.data.attrs!.readonly = !this.isAnyValueAllowed\n\n      return input\n    },\n    genLabel () {\n      if (this.editable && this.isFocused) return null\n\n      const label = VTextField.options.methods.genLabel.call(this)\n\n      if (!label) return label\n\n      label.data = label.data || {}\n\n      // Reset previously set styles from parent\n      label.data.style = {}\n\n      return label\n    },\n    genSegmentedBtn (item: any) {\n      const itemValue = this.getValue(item)\n      const itemObj = this.computedItems.find(i => this.getValue(i) === itemValue) || item\n\n      if (!itemObj.text || !itemObj.callback) {\n        consoleWarn('When using \"segmented\" prop without a selection slot, items must contain both a text and callback property', this)\n        return null\n      }\n\n      return this.$createElement(VBtn, {\n        props: { text: true },\n        on: {\n          click (e: Event) {\n            e.stopPropagation()\n            itemObj.callback(e)\n          },\n        },\n      }, [itemObj.text])\n    },\n    updateValue (val: boolean) {\n      if (val) {\n        this.initialValue = this.lazyValue\n      } else if (this.initialValue !== this.lazyValue) {\n        this.$emit('change', this.lazyValue)\n      }\n    },\n  },\n})\n"],"mappings":"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"}