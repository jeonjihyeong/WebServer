{"version":3,"file":"VProgressLinear.mjs","names":["makeRoundedProps","useRounded","makeTagProps","makeThemeProps","provideTheme","useBackgroundColor","useTextColor","useIntersectionObserver","useProxiedModel","useRtl","computed","Transition","convertToUnit","defineComponent","useRender","VProgressLinear","name","props","active","type","Boolean","default","bgColor","String","bgOpacity","Number","bufferValue","clickable","color","height","indeterminate","max","modelValue","reverse","stream","striped","roundedBar","emits","value","setup","slots","progress","isRtl","themeClasses","textColorClasses","textColorStyles","backgroundColorClasses","backgroundColorStyles","barColorClasses","barColorStyles","roundedClasses","intersectionRef","isIntersecting","parseInt","normalizedBuffer","parseFloat","normalizedValue","isReversed","transition","opacity","handleClick","e","left","right","width","getBoundingClientRect","clientX","Math","round","rounded","undefined","borderTop","top","map","bar","buffer"],"sources":["../../../src/components/VProgressLinear/VProgressLinear.tsx"],"sourcesContent":["// Styles\nimport './VProgressLinear.sass'\n\n// Composables\nimport { makeRoundedProps, useRounded } from '@/composables/rounded'\nimport { makeTagProps } from '@/composables/tag'\nimport { makeThemeProps, provideTheme } from '@/composables/theme'\nimport { useBackgroundColor, useTextColor } from '@/composables/color'\nimport { useIntersectionObserver } from '@/composables/intersectionObserver'\nimport { useProxiedModel } from '@/composables/proxiedModel'\nimport { useRtl } from '@/composables/rtl'\n\n// Utilities\nimport { computed, Transition } from 'vue'\nimport { convertToUnit, defineComponent, useRender } from '@/util'\n\nexport const VProgressLinear = defineComponent({\n  name: 'VProgressLinear',\n\n  props: {\n    active: {\n      type: Boolean,\n      default: true,\n    },\n    bgColor: String,\n    bgOpacity: [Number, String],\n    bufferValue: {\n      type: [Number, String],\n      default: 0,\n    },\n    clickable: Boolean,\n    color: String,\n    height: {\n      type: [Number, String],\n      default: 4,\n    },\n    indeterminate: Boolean,\n    max: {\n      type: [Number, String],\n      default: 100,\n    },\n    modelValue: {\n      type: [Number, String],\n      default: 0,\n    },\n    reverse: Boolean,\n    stream: Boolean,\n    striped: Boolean,\n    roundedBar: Boolean,\n\n    ...makeRoundedProps(),\n    ...makeTagProps(),\n    ...makeThemeProps(),\n  },\n\n  emits: {\n    'update:modelValue': (value: number) => true,\n  },\n\n  setup (props, { slots }) {\n    const progress = useProxiedModel(props, 'modelValue')\n    const { isRtl } = useRtl()\n    const { themeClasses } = provideTheme(props)\n    const { textColorClasses, textColorStyles } = useTextColor(props, 'color')\n    const { backgroundColorClasses, backgroundColorStyles } = useBackgroundColor(computed(() => props.bgColor || props.color))\n    const { backgroundColorClasses: barColorClasses, backgroundColorStyles: barColorStyles } = useBackgroundColor(props, 'color')\n    const { roundedClasses } = useRounded(props)\n    const { intersectionRef, isIntersecting } = useIntersectionObserver()\n\n    const max = computed(() => parseInt(props.max, 10))\n    const height = computed(() => parseInt(props.height, 10))\n    const normalizedBuffer = computed(() => parseFloat(props.bufferValue) / max.value * 100)\n    const normalizedValue = computed(() => parseFloat(progress.value) / max.value * 100)\n    const isReversed = computed(() => isRtl.value !== props.reverse)\n    const transition = computed(() => props.indeterminate ? 'fade-transition' : 'slide-x-transition')\n    const opacity = computed(() => {\n      return props.bgOpacity == null\n        ? props.bgOpacity\n        : parseFloat(props.bgOpacity)\n    })\n\n    function handleClick (e: MouseEvent) {\n      if (!intersectionRef.value) return\n\n      const { left, right, width } = intersectionRef.value.getBoundingClientRect()\n      const value = isReversed.value ? (width - e.clientX) + (right - width) : e.clientX - left\n\n      progress.value = Math.round(value / width * max.value)\n    }\n\n    useRender(() => (\n      <props.tag\n        ref={ intersectionRef }\n        class={[\n          'v-progress-linear',\n          {\n            'v-progress-linear--active': props.active && isIntersecting.value,\n            'v-progress-linear--reverse': isReversed.value,\n            'v-progress-linear--rounded': props.rounded,\n            'v-progress-linear--rounded-bar': props.roundedBar,\n            'v-progress-linear--striped': props.striped,\n          },\n          roundedClasses.value,\n          themeClasses.value,\n        ]}\n        style={{\n          height: props.active ? convertToUnit(height.value) : 0,\n          '--v-progress-linear-height': convertToUnit(height.value),\n        }}\n        role=\"progressbar\"\n        aria-valuemin=\"0\"\n        aria-valuemax={ props.max }\n        aria-valuenow={ props.indeterminate ? undefined : normalizedValue.value }\n        onClick={ props.clickable && handleClick }\n      >\n        { props.stream && (\n          <div\n            key=\"stream\"\n            class={[\n              'v-progress-linear__stream',\n              textColorClasses.value,\n            ]}\n            style={{\n              ...textColorStyles.value,\n              [isReversed.value ? 'left' : 'right']: convertToUnit(-height.value),\n              borderTop: `${convertToUnit(height.value / 2)} dotted`,\n              opacity: opacity.value,\n              top: `calc(50% - ${convertToUnit(height.value / 4)})`,\n              width: convertToUnit(100 - normalizedBuffer.value, '%'),\n              '--v-progress-linear-stream-to': convertToUnit(height.value * (isReversed.value ? 1 : -1)),\n            }}\n          />\n        ) }\n\n        <div\n          class={[\n            'v-progress-linear__background',\n            backgroundColorClasses.value,\n          ]}\n          style={[\n            backgroundColorStyles.value,\n            {\n              opacity: opacity.value,\n              width: convertToUnit((!props.stream ? 100 : normalizedBuffer.value), '%'),\n            },\n          ]}\n        />\n\n        <Transition name={ transition.value }>\n          { !props.indeterminate ? (\n            <div\n              class={[\n                'v-progress-linear__determinate',\n                barColorClasses.value,\n              ]}\n              style={[\n                barColorStyles.value,\n                { width: convertToUnit(normalizedValue.value, '%') },\n              ]}\n            />\n          ) : (\n            <div class=\"v-progress-linear__indeterminate\">\n              { ['long', 'short'].map(bar => (\n                <div\n                  key={ bar }\n                  class={[\n                    'v-progress-linear__indeterminate',\n                    bar,\n                    barColorClasses.value,\n                  ]}\n                  style={ barColorStyles.value }\n                />\n              )) }\n            </div>\n          ) }\n        </Transition>\n\n        { slots.default && (\n          <div class=\"v-progress-linear__content\">\n            { slots.default({ value: normalizedValue.value, buffer: normalizedBuffer.value }) }\n          </div>\n        ) }\n      </props.tag>\n    ))\n\n    return {}\n  },\n})\n"],"mappings":"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"}