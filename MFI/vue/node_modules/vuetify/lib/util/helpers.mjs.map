{"version":3,"file":"helpers.mjs","names":["camelize","computed","Fragment","toRef","watch","getNestedValue","obj","path","fallback","last","length","undefined","i","deepEqual","a","b","Date","getTime","Object","props","keys","every","p","getObjectValueByPath","replace","split","getPropertyFromItem","item","property","Array","isArray","value","createRange","start","from","v","k","getZIndex","el","nodeType","Node","ELEMENT_NODE","index","window","getComputedStyle","getPropertyValue","parentNode","tagsToReplace","escapeHTML","str","tag","filterObjectOnKeys","filtered","key","convertToUnit","unit","isNaN","String","isFinite","Number","isObject","isComponentInstance","$el","keyCodes","freeze","enter","tab","delete","esc","space","up","down","left","right","end","home","del","backspace","insert","pageup","pagedown","shift","keyValues","o","pick","paths","found","create","rest","some","RegExp","test","filterInputAttrs","attrs","arrayDiff","diff","includes","push","groupItems","items","groupBy","groupDesc","groups","current","val","name","wrapInArray","sortItems","sortBy","sortDesc","locale","customSorters","stringCollator","Intl","Collator","sensitivity","usage","sort","sortKey","sortA","sortB","customResult","map","s","toString","toLocaleLowerCase","compare","defaultFilter","search","indexOf","searchItems","toLowerCase","trim","filter","debounce","fn","delay","timeoutId","args","clearTimeout","setTimeout","throttle","limit","throttling","getPrefixedSlots","prefix","slots","startsWith","reduce","clamp","min","max","Math","padEnd","char","repeat","chunk","size","chunked","substr","humanReadableFileSize","bytes","base","abs","toFixed","camelizeObjectKeys","mergeDeep","source","target","arrayFn","out","sourceProperty","targetProperty","fillArray","fill","flattenFragments","nodes","node","type","children","flat","randomHexColor","n","random","slice","toKebabCase","findChildren","vnode","child","component","subTree","findChildrenWithProvide","getOwnPropertySymbols","provides","CircularBuffer","constructor","values","concat","getEventCoordinates","e","clientX","touches","clientY","destructComputed","getter","refs","flush","arr"],"sources":["../../src/util/helpers.ts"],"sourcesContent":["// Utilities\nimport { camelize, computed, Fragment, toRef, watch } from 'vue'\n\n// Types\nimport type {\n  ComponentInternalInstance,\n  ComponentPublicInstance,\n  ComputedGetter,\n  InjectionKey,\n  Ref,\n  Slots,\n  ToRefs,\n  VNode,\n  VNodeChild,\n} from 'vue'\n\nexport function getNestedValue (obj: any, path: (string | number)[], fallback?: any): any {\n  const last = path.length - 1\n\n  if (last < 0) return obj === undefined ? fallback : obj\n\n  for (let i = 0; i < last; i++) {\n    if (obj == null) {\n      return fallback\n    }\n    obj = obj[path[i]]\n  }\n\n  if (obj == null) return fallback\n\n  return obj[path[last]] === undefined ? fallback : obj[path[last]]\n}\n\nexport function deepEqual (a: any, b: any): boolean {\n  if (a === b) return true\n\n  if (\n    a instanceof Date &&\n    b instanceof Date &&\n    a.getTime() !== b.getTime()\n  ) {\n    // If the values are Date, compare them as timestamps\n    return false\n  }\n\n  if (a !== Object(a) || b !== Object(b)) {\n    // If the values aren't objects, they were already checked for equality\n    return false\n  }\n\n  const props = Object.keys(a)\n\n  if (props.length !== Object.keys(b).length) {\n    // Different number of props, don't bother to check\n    return false\n  }\n\n  return props.every(p => deepEqual(a[p], b[p]))\n}\n\nexport function getObjectValueByPath (obj: any, path: string, fallback?: any): any {\n  // credit: http://stackoverflow.com/questions/6491463/accessing-nested-javascript-objects-with-string-key#comment55278413_6491621\n  if (obj == null || !path || typeof path !== 'string') return fallback\n  if (obj[path] !== undefined) return obj[path]\n  path = path.replace(/\\[(\\w+)\\]/g, '.$1') // convert indexes to properties\n  path = path.replace(/^\\./, '') // strip a leading dot\n  return getNestedValue(obj, path.split('.'), fallback)\n}\n\nexport type SelectItemKey = boolean | string | (string | number)[] | ((item: Record<string, any>, fallback?: any) => any)\n\nexport function getPropertyFromItem (\n  item: any,\n  property: SelectItemKey,\n  fallback?: any\n): any {\n  if (property == null) return item === undefined ? fallback : item\n\n  if (item !== Object(item)) return fallback\n\n  if (typeof property === 'string') return getObjectValueByPath(item, property, fallback)\n\n  if (Array.isArray(property)) return getNestedValue(item, property, fallback)\n\n  if (typeof property !== 'function') return fallback\n\n  const value = property(item, fallback)\n\n  return typeof value === 'undefined' ? fallback : value\n}\n\nexport function createRange (length: number, start = 0): number[] {\n  return Array.from({ length }, (v, k) => start + k)\n}\n\nexport function getZIndex (el?: Element | null): number {\n  if (!el || el.nodeType !== Node.ELEMENT_NODE) return 0\n\n  const index = +window.getComputedStyle(el).getPropertyValue('z-index')\n\n  if (!index) return getZIndex(el.parentNode as Element)\n  return index\n}\n\nconst tagsToReplace: Record<string, string> = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n}\n\nexport function escapeHTML (str: string): string {\n  return str.replace(/[&<>]/g, tag => tagsToReplace[tag] || tag)\n}\n\nexport function filterObjectOnKeys<T, K extends keyof T> (obj: T, keys: K[]): { [N in K]: T[N] } {\n  const filtered = {} as { [N in K]: T[N] }\n\n  for (let i = 0; i < keys.length; i++) {\n    const key = keys[i]\n    if (typeof obj[key] !== 'undefined') {\n      filtered[key] = obj[key]\n    }\n  }\n\n  return filtered\n}\n\nexport function convertToUnit (str: number, unit?: string): string\nexport function convertToUnit (str: string | number | null | undefined, unit?: string): string | undefined\nexport function convertToUnit (str: string | number | null | undefined, unit = 'px'): string | undefined {\n  if (str == null || str === '') {\n    return undefined\n  } else if (isNaN(+str!)) {\n    return String(str)\n  } else if (!isFinite(+str!)) {\n    return undefined\n  } else {\n    return `${Number(str)}${unit}`\n  }\n}\n\nexport function isObject (obj: any): obj is object {\n  return obj !== null && typeof obj === 'object' && !Array.isArray(obj)\n}\n\nexport function isComponentInstance (obj: any): obj is ComponentPublicInstance {\n  return obj?.$el\n}\n\n// KeyboardEvent.keyCode aliases\nexport const keyCodes = Object.freeze({\n  enter: 13,\n  tab: 9,\n  delete: 46,\n  esc: 27,\n  space: 32,\n  up: 38,\n  down: 40,\n  left: 37,\n  right: 39,\n  end: 35,\n  home: 36,\n  del: 46,\n  backspace: 8,\n  insert: 45,\n  pageup: 33,\n  pagedown: 34,\n  shift: 16,\n})\n\nexport const keyValues = Object.freeze({\n  enter: 'Enter',\n  tab: 'Tab',\n  delete: 'Delete',\n  esc: 'Escape',\n  space: 'Space',\n  up: 'ArrowUp',\n  down: 'ArrowDown',\n  left: 'ArrowLeft',\n  right: 'ArrowRight',\n  end: 'End',\n  home: 'Home',\n  del: 'Delete',\n  backspace: 'Backspace',\n  insert: 'Insert',\n  pageup: 'PageUp',\n  pagedown: 'PageDown',\n  shift: 'Shift',\n})\n\nexport function keys<O> (o: O) {\n  return Object.keys(o) as (keyof O)[]\n}\n\ntype MaybePick<\n  T extends object,\n  U extends Extract<keyof T, string>\n> = Record<string, unknown> extends T ? Partial<Pick<T, U>> : Pick<T, U>\n\nexport function pick<\n  T extends object,\n  U extends Extract<keyof T, string>\n> (obj: T, paths: U[]): [yes: MaybePick<T, U>, no: Omit<T, U>]\nexport function pick<\n  T extends object,\n  U extends Extract<keyof T, string>\n> (obj: T, paths: (U | RegExp)[]): [yes: Partial<T>, no: Partial<T>]\nexport function pick<\n  T extends object,\n  U extends Extract<keyof T, string>\n> (obj: T, paths: (U | RegExp)[]): [yes: Partial<T>, no: Partial<T>] {\n  const found = Object.create(null)\n  const rest = Object.create(null)\n\n  for (const key in obj) {\n    if (\n      paths.some(path => path instanceof RegExp\n        ? path.test(key)\n        : path === key\n      )\n    ) {\n      found[key] = obj[key]\n    } else {\n      rest[key] = obj[key]\n    }\n  }\n\n  return [found, rest]\n}\n\n/**\n * Filter attributes that should be applied to\n * the root element of a an input component. Remaining\n * attributes should be passed to the <input> element inside.\n */\nexport function filterInputAttrs (attrs: Record<string, unknown>) {\n  return pick(attrs, ['class', 'style', 'id', /^data-/])\n}\n\n/**\n * Returns the set difference of B and A, i.e. the set of elements in B but not in A\n */\nexport function arrayDiff (a: any[], b: any[]): any[] {\n  const diff: any[] = []\n  for (let i = 0; i < b.length; i++) {\n    if (!a.includes(b[i])) diff.push(b[i])\n  }\n  return diff\n}\n\ninterface ItemGroup<T> {\n  name: string\n  items: T[]\n}\n\nexport function groupItems<T extends any = any> (\n  items: T[],\n  groupBy: string[],\n  groupDesc: boolean[]\n): ItemGroup<T>[] {\n  const key = groupBy[0]\n  const groups: ItemGroup<T>[] = []\n  let current\n  for (let i = 0; i < items.length; i++) {\n    const item = items[i]\n    const val = getObjectValueByPath(item, key, null)\n    if (current !== val) {\n      current = val\n      groups.push({\n        name: val ?? '',\n        items: [],\n      })\n    }\n    groups[groups.length - 1].items.push(item)\n  }\n  return groups\n}\n\nexport function wrapInArray<T> (v: T | T[] | null | undefined): T[] {\n  return v == null\n    ? []\n    : Array.isArray(v)\n      ? v : [v]\n}\n\ntype DataTableCompareFunction<T = any> = (a: T, b: T) => number\nexport function sortItems<T extends any, K extends keyof T> (\n  items: T[],\n  sortBy: string[],\n  sortDesc: boolean[],\n  locale: string,\n  customSorters?: Record<K, DataTableCompareFunction<T[K]>>\n): T[] {\n  if (sortBy === null || !sortBy.length) return items\n  const stringCollator = new Intl.Collator(locale, { sensitivity: 'accent', usage: 'sort' })\n\n  return items.sort((a, b) => {\n    for (let i = 0; i < sortBy.length; i++) {\n      const sortKey = sortBy[i]\n\n      let sortA = getObjectValueByPath(a, sortKey)\n      let sortB = getObjectValueByPath(b, sortKey)\n\n      if (sortDesc[i]) {\n        [sortA, sortB] = [sortB, sortA]\n      }\n\n      if (customSorters?.[sortKey as K]) {\n        const customResult = customSorters[sortKey as K](sortA, sortB)\n\n        if (!customResult) continue\n\n        return customResult\n      }\n\n      // Check if both cannot be evaluated\n      if (sortA === null && sortB === null) {\n        continue\n      }\n\n      // Dates should be compared numerically\n      if (sortA instanceof Date && sortB instanceof Date) {\n        return sortA.getTime() - sortB.getTime()\n      }\n\n      [sortA, sortB] = [sortA, sortB].map(s => (s || '').toString().toLocaleLowerCase())\n\n      if (sortA !== sortB) {\n        if (!isNaN(sortA) && !isNaN(sortB)) return Number(sortA) - Number(sortB)\n        return stringCollator.compare(sortA, sortB)\n      }\n    }\n\n    return 0\n  })\n}\n\nexport function defaultFilter (value: any, search: string | null, item: any) {\n  return value != null &&\n    search != null &&\n    typeof value !== 'boolean' &&\n    value.toString().toLocaleLowerCase().indexOf(search.toLocaleLowerCase()) !== -1\n}\n\nexport function searchItems<T extends any = any> (items: T[], search: string): T[] {\n  if (!search) return items\n  search = search.toString().toLowerCase()\n  if (search.trim() === '') return items\n\n  return items.filter((item: any) => Object.keys(item).some(key => defaultFilter(getObjectValueByPath(item, key), search, item)))\n}\n\nexport function debounce (fn: Function, delay: number) {\n  let timeoutId = 0 as any\n  return (...args: any[]) => {\n    clearTimeout(timeoutId)\n    timeoutId = setTimeout(() => fn(...args), delay)\n  }\n}\n\nexport function throttle<T extends (...args: any[]) => any> (fn: T, limit: number) {\n  let throttling = false\n  return (...args: Parameters<T>): void | ReturnType<T> => {\n    if (!throttling) {\n      throttling = true\n      setTimeout(() => throttling = false, limit)\n      return fn(...args)\n    }\n  }\n}\n\ntype Writable<T> = {\n  -readonly [P in keyof T]: T[P]\n}\n\n/**\n * Filters slots to only those starting with `prefix`, removing the prefix\n */\nexport function getPrefixedSlots (prefix: string, slots: Slots): Slots {\n  return Object.keys(slots)\n    .filter(k => k.startsWith(prefix))\n    .reduce<Writable<Slots>>((obj, k) => {\n      obj[k.replace(prefix, '')] = slots[k]\n      return obj\n    }, {})\n}\n\nexport function clamp (value: number, min = 0, max = 1) {\n  return Math.max(min, Math.min(max, value))\n}\n\nexport function padEnd (str: string, length: number, char = '0') {\n  return str + char.repeat(Math.max(0, length - str.length))\n}\n\nexport function chunk (str: string, size = 1) {\n  const chunked: string[] = []\n  let index = 0\n  while (index < str.length) {\n    chunked.push(str.substr(index, size))\n    index += size\n  }\n  return chunked\n}\n\nexport function humanReadableFileSize (bytes: number, base: 1000 | 1024 = 1000): string {\n  if (bytes < base) {\n    return `${bytes} B`\n  }\n\n  const prefix = base === 1024 ? ['Ki', 'Mi', 'Gi'] : ['k', 'M', 'G']\n  let unit = -1\n  while (Math.abs(bytes) >= base && unit < prefix.length - 1) {\n    bytes /= base\n    ++unit\n  }\n  return `${bytes.toFixed(1)} ${prefix[unit]}B`\n}\n\nexport function camelizeObjectKeys (obj: Record<string, any> | null | undefined) {\n  if (!obj) return {}\n\n  return Object.keys(obj).reduce((o: any, key: string) => {\n    o[camelize(key)] = obj[key]\n    return o\n  }, {})\n}\n\nexport function mergeDeep (\n  source: Record<string, any> = {},\n  target: Record<string, any> = {},\n  arrayFn?: (a: unknown[], b: unknown[]) => unknown[],\n) {\n  const out: Record<string, any> = {}\n\n  for (const key in source) {\n    out[key] = source[key]\n  }\n\n  for (const key in target) {\n    const sourceProperty = source[key]\n    const targetProperty = target[key]\n\n    // Only continue deep merging if\n    // both properties are objects\n    if (\n      isObject(sourceProperty) &&\n      isObject(targetProperty)\n    ) {\n      out[key] = mergeDeep(sourceProperty, targetProperty, arrayFn)\n\n      continue\n    }\n\n    if (Array.isArray(sourceProperty) && Array.isArray(targetProperty) && arrayFn) {\n      out[key] = arrayFn(sourceProperty, targetProperty)\n\n      continue\n    }\n\n    out[key] = targetProperty\n  }\n\n  return out\n}\n\nexport function fillArray<T> (length: number, obj: T) {\n  return Array(length).fill(obj)\n}\n\nexport function flattenFragments (nodes: VNode[]): VNode[] {\n  return nodes.map(node => {\n    if (node.type === Fragment) {\n      return flattenFragments(node.children as VNode[])\n    } else {\n      return node\n    }\n  }).flat()\n}\n\nexport const randomHexColor = () => {\n  const n = (Math.random() * 0xfffff * 1000000).toString(16)\n  return '#' + n.slice(0, 6)\n}\n\nexport function toKebabCase (str = '') {\n  return str\n    .replace(/[^a-z]/gi, '-')\n    .replace(/\\B([A-Z])/g, '-$1')\n    .toLowerCase()\n}\n\nexport type MaybeRef<T> = T | Ref<T>\n\nexport function findChildren (vnode?: VNodeChild): ComponentInternalInstance[] {\n  if (!vnode || typeof vnode !== 'object') {\n    return []\n  }\n\n  if (Array.isArray(vnode)) {\n    return vnode\n      .map(child => findChildren(child))\n      .filter(v => v)\n      .flat(1)\n  } else if (Array.isArray(vnode.children)) {\n    return vnode.children\n      .map(child => findChildren(child))\n      .filter(v => v)\n      .flat(1)\n  } else if (vnode.component) {\n    return [vnode.component, ...findChildren(vnode.component?.subTree)]\n      .filter(v => v)\n      .flat(1)\n  }\n\n  return []\n}\n\nexport function findChildrenWithProvide (\n  key: InjectionKey<any> | symbol,\n  vnode?: VNodeChild,\n): ComponentInternalInstance[] {\n  if (!vnode || typeof vnode !== 'object') return []\n\n  if (Array.isArray(vnode)) {\n    return vnode.map(child => findChildrenWithProvide(key, child)).flat(1)\n  } else if (Array.isArray(vnode.children)) {\n    return vnode.children.map(child => findChildrenWithProvide(key, child)).flat(1)\n  } else if (vnode.component) {\n    if (Object.getOwnPropertySymbols(vnode.component.provides).includes(key as symbol)) {\n      return [vnode.component]\n    } else if (vnode.component.subTree) {\n      return findChildrenWithProvide(key, vnode.component.subTree).flat(1)\n    }\n  }\n\n  return []\n}\n\nexport class CircularBuffer<T = never> {\n  readonly #arr: Array<T> = []\n  #pointer = 0\n\n  constructor (public readonly size: number) {}\n\n  push (val: T) {\n    this.#arr[this.#pointer] = val\n    this.#pointer = (this.#pointer + 1) % this.size\n  }\n\n  values (): T[] {\n    return this.#arr.slice(this.#pointer).concat(this.#arr.slice(0, this.#pointer))\n  }\n}\n\nexport type UnionToIntersection<U> =\n  (U extends any ? (k: U) => void : never) extends ((k: infer I) => void) ? I : never\n\nexport function getEventCoordinates (e: MouseEvent | TouchEvent) {\n  if ('touches' in e) {\n    return { clientX: e.touches[0].clientX, clientY: e.touches[0].clientY }\n  }\n\n  return { clientX: e.clientX, clientY: e.clientY }\n}\n\n// Only allow a single return type\ntype NotAUnion<T> = [T] extends [infer U] ? _NotAUnion<U, U> : never\ntype _NotAUnion<T, U> = U extends any ? [T] extends [U] ? unknown : never : never\n\n/**\n * Convert a computed ref to a record of refs.\n * The getter function must always return an object with the same keys.\n */\nexport function destructComputed<T extends object> (getter: ComputedGetter<T & NotAUnion<T>>): ToRefs<T>\nexport function destructComputed<T extends object> (getter: ComputedGetter<T>) {\n  const refs = {} as ToRefs<T>\n  const base = computed(getter)\n  for (const key in base.value) {\n    refs[key] = toRef(base.value, key)\n  }\n  watch(base, val => {\n    for (const key in val) {\n      refs[key].value = val[key]\n    }\n  }, { flush: 'sync' })\n  return refs\n}\n\n/** Array.includes but value can be any type */\nexport function includes (arr: readonly any[], val: any) {\n  return arr.includes(val)\n}\n"],"mappings":"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"}